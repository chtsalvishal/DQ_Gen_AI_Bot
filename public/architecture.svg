<?xml version="1.0" encoding="UTF-8"?>
<svg width="1550px" height="450px" viewBox="0 0 1550 450" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">

  <defs>
    <symbol id="icon-user" viewBox="0 0 24 24">
      <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle>
    </symbol>
    <symbol id="icon-gateway" viewBox="0 0 24 24">
        <path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"></path>
    </symbol>
    <symbol id="icon-input" viewBox="0 0 24 24">
      <path d="M4 12h16M4 12l6-6m-6 6l6 6"></path>
      <path d="M20 4v16"></path>
    </symbol>
    <symbol id="icon-engineering" viewBox="0 0 24 24">
      <path d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.44,0.17-0.48,0.41L9.2,5.07C8.61,5.31,8.08,5.62,7.58,6L5.19,5.04C4.97,4.96,4.72,5.04,4.6,5.25L2.68,8.57 c-0.11,0.2-0.06,0.47,0.12,0.61l2.03,1.58C4.78,11.36,4.76,11.68,4.76,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.26 c0.04,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.48,0.41l0.36-2.26c0.59-0.24,1.12-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.2,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"></path>
    </symbol>
    <symbol id="icon-gemini" viewBox="0 0 24 24">
        <path d="M12 2L9 9l-7 3 7 3 3 7 3-7 7-3-7-3-3-7z" />
    </symbol>
    <symbol id="icon-dashboard" viewBox="0 0 24 24">
        <path d="M6 20v-4M12 20V10M18 20V4"></path>
    </symbol>
    <symbol id="icon-assistant" viewBox="0 0 24 24">
        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
    </symbol>
    <symbol id="icon-export" viewBox="0 0 24 24">
        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line>
    </symbol>
  </defs>

  <style>
    .diagram-font { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji"; }
    
    /* Light Mode Styles */
    .main-title, .group-title, .box-title { fill: #0f172a; }
    .box-subtitle, .arrow-label { fill: #475569; }
    .group-box { fill: #f8fafc; stroke: #e2e8f0; }
    .user-box { fill: #fefce8; stroke: #facc15; }
    .gateway-box { fill: #f1f5f9; stroke: #cbd5e1; }
    .ingest-box, .pipelines-box { fill: #eff6ff; stroke: #60a5fa; }
    .analytics-box { fill: #f0fdf4; stroke: #4ade80; }
    .dashboard-box, .assistant-box, .export-box { fill: #fef2f2; stroke: #f87171; }
    .arrow-path { stroke: #94a3b8; }
    #arrowhead polygon { fill: #94a3b8; }

    .icon { stroke-width: 2; fill: none; stroke-linecap: round; stroke-linejoin: round; }
    .icon-user { stroke: #ca8a04; }
    .icon-gateway { stroke: #64748b; }
    .icon-input, .icon-engineering { stroke: #0ea5e9; }
    .icon-gemini { stroke: #10b981; }
    .icon-dashboard, .icon-assistant, .icon-export { stroke: #ef4444; }

    /* Dark Mode Overrides */
    @media (prefers-color-scheme: dark) {
      .main-title, { fill: #0f172a; }
      .group-title, { fill: #0f172a; }
      .box-title { fill: #f1f5f9; }
      .box-subtitle, .arrow-label { fill: #94a3b8; }
      .group-box { fill: #1e293b; stroke: #334155; }
      .user-box { fill: #451a03; stroke: #facc15; }
      .gateway-box { fill: #334155; stroke: #64748b; }
      .ingest-box, .pipelines-box { fill: #1e3a8a; stroke: #60a5fa; }
      .analytics-box { fill: #14532d; stroke: #4ade80; }
      .dashboard-box, .assistant-box, .export-box { fill: #450a0a; stroke: #f87171; }
      .arrow-path { stroke: #94a3b8; }
      #arrowhead polygon { fill: #94a3b8; }

      .icon-user { stroke: #fde047; }
      .icon-gateway { stroke: #94a3b8; }
      .icon-input, .icon-engineering { stroke: #93c5fd; }
      .icon-gemini { stroke: #86efac; }
      .icon-dashboard, .icon-assistant, .icon-export { stroke: #fca5a5; }
    }
  </style>

  
  
  <!-- Group Boxes -->
  <rect x="20" y="120" width="200" height="180" rx="8" ry="8" class="group-box"/>
  <text x="120" y="110" text-anchor="middle" class="group-title diagram-font" style="font-size: 16px; font-weight: bold;">User Environment</text>
  
  <rect x="390" y="60" width="650" height="300" rx="8" ry="8" class="group-box"/>
  <text x="715" y="50" text-anchor="middle" class="group-title diagram-font" style="font-size: 16px; font-weight: bold;">Data Quality Bot</text>
  
  <rect x="1100" y="60" width="430" height="300" rx="8" ry="8" class="group-box"/>
  <text x="1315" y="50" text-anchor="middle" class="group-title diagram-font" style="font-size: 16px; font-weight: bold;">Presentation</text>

  <!-- Component Boxes -->
  <!-- User -->
  <g transform="translate(40, 150)">
    <rect width="160" height="120" rx="8" ry="8" class="user-box"/>
    <use xlink:href="#icon-user" class="icon icon-user" x="60" y="15" width="40" height="40"/>
    <text x="80" y="80" text-anchor="middle" class="box-title diagram-font" style="font-size: 14px; font-weight: bold;">User</text>
    <text x="80" y="100" text-anchor="middle" class="box-subtitle diagram-font" style="font-size: 12px;">via Browser HTTPS</text>
  </g>

  <!-- Gateway -->
  <g transform="translate(265, 170)">
    <circle cx="40" cy="40" r="40" class="gateway-box"/>
    <use xlink:href="#icon-gateway" class="icon icon-gateway" x="20" y="20" width="40" height="40"/>
    <text x="40" y="100" text-anchor="middle" class="box-subtitle diagram-font" style="font-size: 12px;">Gateway</text>
  </g>
  
  <!-- Ingest -->
  <g transform="translate(410, 150)">
    <rect width="180" height="120" rx="8" ry="8" class="ingest-box"/>
    <text x="90" y="30" text-anchor="middle" class="group-title diagram-font" style="font-size: 16px; font-weight: bold;">Ingest</text>
    <use xlink:href="#icon-input" class="icon icon-input" x="70" y="45" width="40" height="40"/>
    <text x="90" y="105" text-anchor="middle" class="box-subtitle diagram-font" style="font-size: 12px;">Data Input and Parsing</text>
  </g>

  <!-- Pipelines -->
  <g transform="translate(620, 150)">
    <rect width="180" height="120" rx="8" ry="8" class="pipelines-box"/>
    <text x="90" y="30" text-anchor="middle" class="group-title diagram-font" style="font-size: 16px; font-weight: bold;">Pipelines</text>
    <use xlink:href="#icon-engineering" class="icon icon-engineering" x="70" y="45" width="40" height="40"/>
    <text x="90" y="105" text-anchor="middle" class="box-subtitle diagram-font" style="font-size: 12px;">Prompt Engineering</text>
  </g>

  <!-- Analytics -->
  <g transform="translate(840, 150)">
    <rect width="180" height="120" rx="8" ry="8" class="analytics-box"/>
    <text x="90" y="30" text-anchor="middle" class="group-title diagram-font" style="font-size: 16px; font-weight: bold;">Analytics</text>
    <use xlink:href="#icon-gemini" class="icon icon-gemini" x="70" y="45" width="40" height="40"/>
    <text x="90" y="105" text-anchor="middle" class="box-subtitle diagram-font" style="font-size: 12px;">Google Gemini API</text>
  </g>

  <!-- Results Dashboard -->
  <g transform="translate(1120, 150)">
    <rect width="180" height="120" rx="8" ry="8" class="dashboard-box"/>
    <use xlink:href="#icon-dashboard" class="icon icon-dashboard" x="70" y="20" width="40" height="40"/>
    <text x="90" y="85" text-anchor="middle" class="box-title diagram-font" style="font-size: 14px; font-weight: bold;">Results Dashboard</text>
  </g>

  <!-- AI Assistant -->
  <g transform="translate(1330, 80)">
    <rect width="180" height="90" rx="8" ry="8" class="assistant-box"/>
    <use xlink:href="#icon-assistant" class="icon icon-assistant" x="70" y="15" width="40" height="40"/>
    <text x="90" y="75" text-anchor="middle" class="box-title diagram-font" style="font-size: 14px; font-weight: bold;">AI Assistant</text>
  </g>

  <!-- Export Engine -->
  <g transform="translate(1330, 220)">
    <rect width="180" height="90" rx="8" ry="8" class="export-box"/>
    <use xlink:href="#icon-export" class="icon icon-export" x="70" y="15" width="40" height="40"/>
    <text x="90" y="75" text-anchor="middle" class="box-title diagram-font" style="font-size: 14px; font-weight: bold;">Export Engine</text>
  </g>

  <!-- Arrows -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" />
    </marker>
  </defs>
  
  <path d="M200 210 L 254 210" class="arrow-path" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="227" y="180" text-anchor="middle" class="arrow-label diagram-font" style="font-size: 12px; font-weight: 500;"><tspan x="227" dy="-0.6em">Provides Data</tspan><tspan x="227" dy="1.2em">Context</tspan></text>

  <path d="M345 210 L 399 210" class="arrow-path" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <path d="M590 210 L 609 210" class="arrow-path" stroke-width="2" marker-end="url(#arrowhead)"/>

  <path d="M800 210 L 829 210" class="arrow-path" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="814.5" y="190" text-anchor="middle" class="arrow-label diagram-font" style="font-size: 12px; font-weight: 500;">Secure API Call</text>
  
  <path d="M1020 210 L 1109 210" class="arrow-path" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="1064.5" y="190" text-anchor="middle" class="arrow-label diagram-font" style="font-size: 12px; font-weight: 500;">JSON Response</text>

  <!-- Forked arrow from Dashboard -->
  <path d="M1300 210 h 15" class="arrow-path" stroke-width="2" fill="none"/>
  <path d="M1315 125 v 140" class="arrow-path" stroke-width="2" fill="none"/>
  <path d="M1315 125 h 14" class="arrow-path" stroke-width="2" marker-end="url(#arrowhead)" fill="none"/>
  <path d="M1315 265 h 14" class="arrow-path" stroke-width="2" marker-end="url(#arrowhead)" fill="none"/>
</svg>