<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Journey Diagram</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 20px;
            box-sizing: border-box;
            background-color: #eff6ff;
        }
        .mermaid {
            width: 95vw;
            max-width: 1200px;
        }
    </style>
</head>
<body>
    <pre class="mermaid">
        graph TD
            subgraph user_journey ["User Journey"]

                subgraph sg1 ["**1. Start**"]
                    A["**Initiate Session**<br><br>User opens the<br>Data Quality Bot<br>application.<br>"]:::startNode
                end

                subgraph sg2 ["**2. Input & Context**"]
                    B["**Provide Data Context**<br><br>User inputs metadata,<br>statistics, and<br>business rules.<br>"]:::inputNode
                    B --> B1["**Manual Entry**<br><br>Type or paste<br>details directly<br>into the form.<br>"]:::inputNode
                    B --> B2["**File Upload**<br><br>Import context via<br>.sql and .csv files<br>for efficiency.<br>"]:::inputNode
                end
                
                subgraph sg3 ["**3. AI Analysis**"]
                    C["**Trigger Analysis**<br><br>Click 'Analyze'<br>to start the AI<br>quality assessment.<br>"]:::analysisNode
                    D["**Gemini Processing**<br><br>The app sends a detailed,<br>context-rich prompt for<br>each table to the AI.<br><br>"]:::analysisNode
                    E["**Receive Results**<br><br>A structured JSON<br>response is returned<br>with all findings.<br>"]:::analysisNode
                end

                subgraph sg4 ["**4. Insight & Action**"]
                    F["**Explore Dashboard**<br><br>Visualize results, filter<br>issues, and review<br>table health scores.<br>"]:::insightNode
                    G["**Conversational AI**<br><br>Ask follow-up questions<br>to the integrated<br>AI Assistant.<br>"]:::insightNode
                    H["**Export & Share**<br><br>Generate professional PDF<br>or PowerPoint reports<br>for stakeholders.<br>"]:::insightNode
                end
                
                subgraph sg5 ["**5. Goal**"]
                   J["**Achieve Data Integrity**<br><br>User gains clear, actionable<br>insights to improve and<br>maintain data quality.<br>"]:::goalNode
                end
            end

            A --> B
            B1 --> C
            B2 --> C
            C --> D --> E
            E --> F
            F --> G & H
            G --> J
            H --> J
            
            style user_journey fill:#EFF6FF,stroke:#BFDBFE,color:#1e293b
            style sg1 fill:#F8F9FA,stroke:#DADCE0,color:#0f172a
            style sg2 fill:#F8F9FA,stroke:#DADCE0,color:#0f172a
            style sg3 fill:#F8F9FA,stroke:#DADCE0,color:#0f172a
            style sg4 fill:#F8F9FA,stroke:#DADCE0,color:#0f172a
            style sg5 fill:#F8F9FA,stroke:#DADCE0,color:#0f172a

            classDef startNode fill:#E8F0FE,stroke:#4A90E2,stroke-width:3px,color:#212529,font-weight:bold
            classDef inputNode fill:#FEF9E7,stroke:#F5B041,stroke-width:3px,color:#212529
            classDef analysisNode fill:#FDEFEF,stroke:#E74C3C,stroke-width:3px,color:#212529
            classDef insightNode fill:#E8F8F5,stroke:#2ECC71,stroke-width:3px,color:#212529
            classDef goalNode fill:#EAEBFC,stroke:#5D69B1,stroke-width:3px,color:#212529,font-weight:bold
    </pre>
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true });
    </script>
</body>
</html>
