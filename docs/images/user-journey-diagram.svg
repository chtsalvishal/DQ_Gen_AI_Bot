<svg id="user-journey-diagram" xmlns="http://www.w3.org/2000/svg" width="100%" viewBox="0 0 1300 300">
    <style>
        .container { font-family: 'Segoe UI', 'Helvetica Neue', Arial, sans-serif; }
        .title { font-size: 24px; font-weight: 600; fill: #0f172a; text-anchor: middle; }
        .phase-title { font-size: 16px; font-weight: 600; fill: #334155; }
        .phase-box { fill: #f8fafc; stroke: #e2e8f0; rx: 8; ry: 8; stroke-width: 1.5; }
        .step-box { rx: 6; ry: 6; stroke-width: 1.5; }
        .step-box-input { fill: #eff6ff; stroke: #60a5fa; }
        .step-box-action { fill: #f0fdf4; stroke: #4ade80; }
        .step-title { font-size: 15px; font-weight: 600; color: #1e293b; }
        .step-desc { font-size: 13px; color: #475569; }
        .step-text-wrapper { display: flex; flex-direction: column; justify-content: center; text-align: center; height: 100%; padding: 5px; }
        .arrow { stroke: #475569; stroke-width: 1.5; fill: none; marker-end: url(#arrowhead); }
        .arrow-label { font-size: 13px; fill: #1e293b; text-anchor: middle; }
    </style>
    <defs>
        <marker id="arrowhead" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
            <path d="M 0 0 L 10 5 L 0 10 z" fill="#475569" />
        </marker>
    </defs>
    <g class="container">
        <text x="650" y="30" class="title">User Journey</text>

        <!-- Phase 1: Input -->
        <g id="phase1">
            <rect x="10" y="60" width="370" height="220" class="phase-box" />
            <text x="25" y="85" class="phase-title">1. Input Phase</text>
            <g id="step1-input">
                <rect x="30" y="120" width="330" height="120" class="step-box step-box-input" />
                <foreignObject x="30" y="120" width="330" height="120">
                    <div xmlns="http://www.w3.org/1999/xhtml" class="step-text-wrapper">
                        <span class="step-title">Provide Data Context</span>
                        <span class="step-desc">User inputs schemas, stats, rules, and samples via UI forms or file uploads.</span>
                    </div>
                </foreignObject>
            </g>
        </g>
        <path d="M 380 180 H 420" class="arrow" />
        <text x="400" y="170" class="arrow-label">Analyzes</text>

        <!-- Phase 2: Analysis -->
        <g id="phase2">
            <rect x="420" y="60" width="370" height="220" class="phase-box" />
            <text x="435" y="85" class="phase-title">2. Analysis Phase</text>
            <g id="step2-analysis">
                <rect x="440" y="120" width="330" height="120" class="step-box step-box-input" />
                <foreignObject x="440" y="120" width="330" height="120">
                    <div xmlns="http://www.w3.org/1999/xhtml" class="step-text-wrapper">
                        <span class="step-title">AI-Powered Analysis</span>
                        <span class="step-desc">App constructs a detailed prompt and securely calls the Gemini API. Gemini returns a structured JSON of findings.</span>
                    </div>
                </foreignObject>
            </g>
        </g>
        <path d="M 790 180 H 830" class="arrow" />
        <text x="810" y="170" class="arrow-label">Renders</text>

        <!-- Phase 3: Review & Action -->
        <g id="phase3">
            <rect x="830" y="60" width="460" height="220" class="phase-box" />
            <text x="845" y="85" class="phase-title">3. Review & Action Phase</text>
            <g id="step3-visualize">
                <rect x="850" y="120" width="130" height="120" class="step-box step-box-action" />
                <foreignObject x="850" y="120" width="130" height="120">
                    <div xmlns="http://www.w3.org/1999/xhtml" class="step-text-wrapper">
                        <span class="step-title">Visualize</span>
                        <span class="step-desc">UI renders an interactive dashboard of issues.</span>
                    </div>
                </foreignObject>
            </g>
            <path d="M 980 180 H 1000" class="arrow" />
            <g id="step4-chat">
                <rect x="1000" y="120" width="130" height="120" class="step-box step-box-action" />
                <foreignObject x="1000" y="120" width="130" height="120">
                    <div xmlns="http://www.w3.org/1999/xhtml" class="step-text-wrapper">
                        <span class="step-title">Ask AI</span>
                        <span class="step-desc">User asks follow-up questions to the AI assistant.</span>
                    </div>
                </foreignObject>
            </g>
            <path d="M 1130 180 H 1150" class="arrow" />
            <g id="step5-export">
                <rect x="1150" y="120" width="130" height="120" class="step-box step-box-action" />
                <foreignObject x="1150" y="120" width="130" height="120">
                    <div xmlns="http://www.w3.org/1999/xhtml" class="step-text-wrapper">
                        <span class="step-title">Export</span>
                        <span class="step-desc">User exports a PDF or PPTX report for stakeholders.</span>
                    </div>
                </foreignObject>
            </g>
        </g>
    </g>
</svg>